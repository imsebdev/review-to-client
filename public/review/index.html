<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Final Review - SpiderAds</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
      color: #ffffff;
      min-height: 100vh;
      padding: 20px;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }

    .logo svg {
      width: 168px;
      height: auto;
      margin-top: 20px;
    }

    .task-badge {
      background: rgba(160, 160, 255, 0.15);
      border: 1px solid rgba(160, 160, 255, 0.3);
      padding: 10px 20px;
      border-radius: 24px;
      font-size: 13px;
      color: #a0a0ff;
      font-weight: 500;
      letter-spacing: 0.5px;
    }

    .card {
      background: rgba(26, 26, 46, 0.6);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 24px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }

    .section-title {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 12px;
      background: linear-gradient(135deg, #ffffff 0%, #a0a0ff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .project-info {
      color: #d0d0e0;
      margin-bottom: 30px;
    }

    .project-info p {
      margin: 5px 0;
      font-size: 15px;
    }

    .project-info strong {
      color: #ffffff;
      font-weight: 600;
    }

    .divider {
      height: 1px;
      background: linear-gradient(90deg, transparent 0%, rgba(160, 160, 255, 0.3) 50%, transparent 100%);
      margin: 30px 0;
    }

    .section-header {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      gap: 10px;
      color: #e0e0ff;
      letter-spacing: 0.3px;
    }

    /* Carousel Section */
    .carousel-container {
      margin-bottom: 30px;
    }

    .carousel-counter {
      text-align: center;
      font-size: 13px;
      font-weight: 600;
      color: #a0a0ff;
      margin-bottom: 16px;
      letter-spacing: 1px;
    }

    .carousel-main {
      position: relative;
      width: 100%;
      min-height: 400px;
      max-height: 800px;
      background: #000;
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .carousel-slide {
      display: none;
      max-width: 100%;
      max-height: 800px;
      width: auto;
      height: auto;
      object-fit: contain;
    }

    .carousel-slide.active {
      display: block;
    }

    .carousel-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(26, 26, 46, 0.9);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(160, 160, 255, 0.4);
      color: #ffffff;
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border-radius: 50%;
      transition: all 0.3s;
      z-index: 10;
    }

    .carousel-nav:hover {
      background: rgba(160, 160, 255, 0.3);
      border-color: rgba(160, 160, 255, 0.6);
      transform: translateY(-50%) scale(1.1);
    }

    .carousel-nav.prev {
      left: 20px;
    }

    .carousel-nav.next {
      right: 20px;
    }

    .carousel-nav svg {
      width: 24px;
      height: 24px;
      fill: currentColor;
    }

    /* Thumbnails */
    .thumbnails {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .thumbnail {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border-radius: 8px;
      cursor: pointer;
      border: 3px solid transparent;
      transition: all 0.3s;
      opacity: 0.6;
    }

    .thumbnail:hover {
      opacity: 1;
      transform: scale(1.05);
    }

    .thumbnail.active {
      border-color: #a0a0ff;
      opacity: 1;
      box-shadow: 0 4px 16px rgba(160, 160, 255, 0.4);
    }

    /* Design Selection with Checkboxes */
    .designs-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-bottom: 24px;
    }

    .design-card {
      background: rgba(42, 42, 60, 0.5);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 16px;
      transition: all 0.3s;
      border: 2px solid transparent;
      cursor: pointer;
    }

    .design-card:hover {
      border-color: rgba(160, 160, 255, 0.5);
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(160, 160, 255, 0.2);
    }

    .design-card.selected {
      border-color: #a0a0ff;
      background: rgba(160, 160, 255, 0.1);
      box-shadow: 0 4px 16px rgba(160, 160, 255, 0.3);
    }

    .design-checkbox {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
      cursor: pointer;
    }

    .design-checkbox input[type="checkbox"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
      accent-color: #a0a0ff;
    }

    .design-checkbox label {
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      flex: 1;
      word-break: break-word;
      color: #e0e0ff;
    }

    .design-mini-thumb {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 6px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .selection-counter {
      background: rgba(42, 42, 60, 0.5);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      padding: 14px 24px;
      border-radius: 12px;
      display: inline-block;
      font-size: 14px;
      margin-bottom: 24px;
      color: #d0d0e0;
      font-weight: 500;
    }

    .selection-counter.has-selection {
      background: rgba(160, 160, 255, 0.15);
      border-color: rgba(160, 160, 255, 0.3);
      color: #a0a0ff;
    }

    /* Decision Section */
    .decision-section {
      margin-top: 30px;
    }

    .decision-section h3 {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 24px;
      color: #e0e0ff;
      letter-spacing: 0.3px;
    }

    .radio-option {
      background: rgba(42, 42, 60, 0.5);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.1);
      padding: 18px 20px;
      border-radius: 12px;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 14px;
      cursor: pointer;
      transition: all 0.3s;
    }

    .radio-option:hover {
      background: rgba(42, 42, 60, 0.8);
      border-color: rgba(160, 160, 255, 0.3);
      transform: translateX(4px);
    }

    .radio-option.selected {
      border-color: #a0a0ff;
      background: rgba(160, 160, 255, 0.1);
      box-shadow: 0 4px 16px rgba(160, 160, 255, 0.2);
    }

    .radio-option input[type="radio"] {
      width: 20px;
      height: 20px;
      cursor: pointer;
      accent-color: #a0a0ff;
    }

    .radio-option label {
      cursor: pointer;
      flex: 1;
      font-size: 15px;
      font-weight: 500;
      color: #e0e0ff;
    }

    /* Notes Section */
    .notes-section {
      margin-top: 24px;
    }

    .notes-section label {
      display: block;
      font-size: 14px;
      margin-bottom: 10px;
      color: #d0d0e0;
      font-weight: 500;
    }

    .notes-section textarea {
      width: 100%;
      min-height: 120px;
      background: rgba(42, 42, 60, 0.5);
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 14px;
      color: #ffffff;
      font-family: 'Inter', inherit;
      font-size: 14px;
      resize: vertical;
      transition: all 0.3s;
    }

    .notes-section textarea:focus {
      outline: none;
      border-color: #a0a0ff;
      background: rgba(42, 42, 60, 0.8);
      box-shadow: 0 4px 16px rgba(160, 160, 255, 0.15);
    }

    .notes-section textarea::placeholder {
      color: #888;
    }

    /* Actions */
    .actions {
      margin-top: 32px;
      display: flex;
      gap: 16px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #a0a0ff 0%, #8080ff 100%);
      color: #ffffff;
      border: none;
      padding: 16px 36px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 16px rgba(160, 160, 255, 0.3);
      letter-spacing: 0.3px;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(160, 160, 255, 0.4);
      background: linear-gradient(135deg, #b0b0ff 0%, #9090ff 100%);
    }

    .btn-primary:disabled {
      background: #333;
      cursor: not-allowed;
      opacity: 0.5;
      box-shadow: none;
    }

    .btn-secondary {
      background: transparent;
      color: #d0d0e0;
      border: 2px solid rgba(255, 255, 255, 0.2);
      padding: 14px 36px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 500;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      cursor: pointer;
      transition: all 0.3s;
    }

    .btn-secondary:hover {
      border-color: rgba(160, 160, 255, 0.4);
      color: #a0a0ff;
      background: rgba(160, 160, 255, 0.05);
    }

    .footer-text {
      text-align: center;
      color: #888;
      font-size: 13px;
      margin-top: 24px;
      font-weight: 500;
    }

    /* Success Screen */
    .success-screen {
      display: none;
      text-align: center;
      padding: 80px 40px;
    }

    .success-screen.visible {
      display: block;
    }

    .success-icon {
      font-size: 72px;
      margin-bottom: 24px;
      filter: drop-shadow(0 4px 16px rgba(160, 160, 255, 0.4));
    }

    .success-title {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 16px;
      background: linear-gradient(135deg, #ffffff 0%, #a0a0ff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .success-message {
      color: #d0d0e0;
      margin-bottom: 24px;
      font-size: 16px;
      line-height: 1.6;
    }

    .success-reference {
      color: #a0a0ff;
      font-size: 14px;
      font-weight: 500;
    }

    /* Error Message */
    .error-message {
      background: rgba(239, 68, 68, 0.15);
      border: 1px solid rgba(239, 68, 68, 0.3);
      border-radius: 12px;
      padding: 14px 18px;
      color: #ef4444;
      font-size: 14px;
      margin-bottom: 24px;
      display: none;
      font-weight: 500;
    }

    .error-message.visible {
      display: block;
    }

    /* Loading State */
    .loading {
      opacity: 0.6;
      pointer-events: none;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .card {
        padding: 24px;
      }

      .header {
        flex-direction: column;
        align-items: flex-start;
        gap: 16px;
      }

      .logo svg {
        width: 140px;
      }

      .carousel-main {
        min-height: 300px;
        max-height: 500px;
      }

      .carousel-nav {
        width: 40px;
        height: 40px;
      }

      .designs-grid {
        grid-template-columns: 1fr;
      }

      .actions {
        flex-direction: column;
      }

      .btn-primary,
      .btn-secondary {
        width: 100%;
      }

      .section-title {
        font-size: 24px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="logo">
        <svg width="168" height="56" viewBox="0 0 281 56" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21.3893 41.7631C30.5231 40.3759 36.3237 32.6393 35.0854 24.3626C35.0854 24.3346 35.0761 24.316 35.0761 24.2881C35.8675 29.4552 32.3108 34.2872 27.1433 35.0785C21.9666 35.8699 17.1436 32.3134 16.3522 27.137C17.0226 31.5686 13.978 35.7116 9.54607 36.3819C7.34874 36.7171 5.22594 36.1398 3.55933 34.9203C7.21845 39.9663 14.4621 42.8059 21.3987 41.7538" fill="#54008F"/>
          <path d="M30.0294 9.65272C20.8956 11.0399 15.095 18.7766 16.3333 27.0532C16.3333 27.0812 16.3426 27.0998 16.3426 27.1277C15.5512 21.9606 19.1079 17.1287 24.2753 16.3374C29.4428 15.546 34.2751 19.1024 35.0665 24.2696C34.3867 19.8379 37.4407 15.695 41.8726 15.0246C44.0699 14.6894 46.1927 15.2667 47.8593 16.4863C44.2003 11.4402 36.9565 8.60067 30.0201 9.65272" fill="#A1125E"/>
          <path d="M0.291242 29.5761C0.961643 34.0078 5.10487 37.0522 9.53676 36.3819C13.9687 35.7022 17.0133 31.5686 16.3429 27.1369L16.3243 27.0625C15.0859 18.7858 20.8865 11.0491 30.0203 9.6619C36.9568 8.60985 44.2005 11.4494 47.8596 16.4954C49.4518 17.6499 50.6249 19.3723 51.0439 21.4298C48.7162 7.61364 35.7278 -1.8175 21.8362 0.295907C7.94468 2.40931 -1.64543 15.2852 0.235403 29.1572L0.291242 29.5761Z" fill="#FC249E"/>
          <path d="M51.1187 21.8303C50.4389 17.3987 46.305 14.3543 41.8731 15.0246C37.4412 15.7043 34.3966 19.8379 35.067 24.2696L35.0856 24.344C36.324 32.6206 30.5234 40.3573 21.3896 41.7446C14.4531 42.7966 7.20939 39.9571 3.55027 34.911C1.95811 33.7565 0.784986 32.0342 0.366028 29.9766C2.69365 43.7835 15.6821 53.2146 29.5737 51.1012C43.4653 48.9879 53.0553 36.112 51.1745 22.2399L51.1187 21.821V21.8303Z" fill="#8F00E5"/>
          <path d="M58.2417 40.2826C57.9624 39.8358 57.9624 39.5099 58.3534 39.0631L59.629 37.62C60.0759 37.1173 60.5694 37.2848 60.9046 37.6758C62.9529 40.3386 65.5599 42.2191 69.7684 42.2191C74.7592 42.2191 77.6915 39.5565 77.6915 35.5159C77.6915 31.2518 74.5916 29.5295 70.6529 27.593L65.9416 25.3214C61.8357 23.3849 59.1262 20.4428 59.1262 15.8437C59.1262 9.85728 63.8375 6.14258 69.8801 6.14258C74.3116 6.14258 77.6915 8.02315 80.1873 11.0768C80.6899 11.6355 80.5782 11.9614 80.1873 12.4083L78.9674 13.7954C78.5206 14.2981 78.0832 14.2423 77.6357 13.7954C75.4758 11.3004 73.2041 9.96896 69.9918 9.96896C66.1651 9.96896 63.1764 11.9614 63.1764 15.7878C63.1764 18.6181 64.7871 20.4428 68.2228 22.1094L72.8223 24.381C77.3658 26.5968 81.7424 29.2595 81.7424 35.4693C81.7424 42.0609 76.6957 46.0549 69.7684 46.0549C64.1167 46.0549 60.3459 43.4481 58.2417 40.2919" fill="white"/>
          <path d="M99.4224 42.3406C105.297 42.3406 109.506 38.1324 109.506 31.8108C109.506 25.4893 105.297 21.2811 99.4224 21.2811C93.5475 21.2811 89.6092 25.601 89.6092 31.9226C89.6092 38.2441 93.6499 42.3406 99.4224 42.3406ZM85.6802 55.1419V19.0094C85.6802 18.5067 85.9035 18.2367 86.3968 18.2367H88.7242C89.2276 18.2367 89.4417 18.516 89.4417 19.0094L89.5533 23.5528C91.5458 19.9498 95.1491 17.5664 99.9715 17.5664C107.951 17.5664 113.389 23.7203 113.389 31.8108C113.389 39.9013 107.961 46.0553 99.9715 46.0553C95.2049 46.0553 91.6574 43.8395 89.665 40.3482V55.1419C89.665 55.6447 89.4417 55.9147 88.9476 55.9147H86.3968C85.8942 55.9147 85.6802 55.6354 85.6802 55.1419Z" fill="white"/>
          <path d="M117.048 18.9999C117.048 18.4972 117.272 18.2272 117.766 18.2272H120.317C120.810 18.2272 121.033 18.5065 121.033 18.9999V44.6026C121.033 45.1054 120.810 45.3754 120.317 45.3754H117.766C117.262 45.3754 117.048 45.0961 117.048 44.6026V18.9999ZM116.546 12.2873C116.546 10.8442 117.654 9.73633 119.041 9.73633C120.428 9.73633 121.537 10.8442 121.537 12.2873C121.537 13.7304 120.428 14.7824 119.041 14.7824C117.654 14.7824 116.546 13.6745 116.546 12.2873Z" fill="white"/>
          <path d="M138.611 42.3406C144.431 42.3406 148.481 38.1883 148.481 31.9226C148.481 25.6569 144.431 21.2811 138.611 21.2811C132.792 21.2811 128.584 25.5452 128.584 31.8109C128.584 38.0765 132.792 42.3406 138.611 42.3406ZM124.692 31.8109C124.692 23.7204 130.121 17.5664 138.053 17.5664C142.820 17.5664 146.424 19.8381 148.416 23.3852V6.534C148.416 6.0312 148.640 5.76123 149.133 5.76123H151.684C152.187 5.76123 152.401 6.04051 152.401 6.534V44.603C152.401 45.1057 152.178 45.3757 151.684 45.3757H149.300C148.798 45.3757 148.584 45.0964 148.584 44.603L148.472 40.1713C146.480 43.8302 142.932 46.046 138.053 46.046C130.130 46.046 124.692 39.9479 124.692 31.8016" fill="white"/>
          <path d="M178.843 30.1443C178.619 24.7724 175.128 21.1135 169.644 21.1135C164.160 21.1135 160.501 24.6048 159.942 30.1443H178.843ZM156.069 31.6991C156.069 23.7203 161.609 17.5664 169.700 17.5664C177.791 17.5664 182.390 23.7762 182.390 30.4236C182.390 32.416 181.999 33.2539 180.398 33.2539H159.951C160.501 38.6258 164.160 42.6757 170.761 42.6757C174.085 42.6757 176.469 41.6795 178.573 40.0689C178.852 39.8454 179.188 39.8454 179.402 40.1248L180.342 41.4003C180.733 41.8937 180.509 42.1729 180.118 42.564C177.679 44.8915 174.188 46.0553 170.417 46.0553C161.544 46.0553 156.060 39.622 156.060 31.6991" fill="white"/>
          <path d="M186.105 44.6122V19.0094C186.105 18.5067 186.329 18.2367 186.822 18.2367H189.150C189.699 18.2367 189.923 18.4602 189.923 19.0653L190.034 22.1656C191.087 19.6146 192.911 17.5664 196.300 17.5664C197.409 17.5664 198.293 17.7898 198.796 18.125C199.131 18.3484 199.243 18.5718 199.243 19.0653V21.0018C199.243 21.607 198.852 21.7187 198.246 21.5511C197.530 21.3276 196.859 21.2718 196.310 21.2718C191.431 21.2718 190.100 25.5917 190.100 28.6454V44.6029C190.100 45.1057 189.876 45.3756 189.383 45.3756H186.831C186.329 45.3756 186.115 45.0964 186.115 44.6029" fill="white"/>
          <path d="M222.408 32.9742L214.866 11.5795L207.324 32.9742H222.398H222.408ZM198.908 44.4442L212.324 7.25964C212.492 6.81277 212.883 6.59863 213.320 6.59863H216.365C216.812 6.59863 217.194 6.82207 217.362 7.25964L230.825 44.4442C231.048 45.0028 230.825 45.3845 230.220 45.3845H227.445C226.998 45.3845 226.728 45.2169 226.561 44.7234L223.730 36.6889H205.993L203.163 44.7234C202.995 45.2262 202.716 45.3845 202.222 45.3845H199.504C198.899 45.3845 198.674 44.9935 198.899 44.4442" fill="white"/>
          <path d="M244.912 42.3406C250.731 42.3406 254.781 38.1883 254.781 31.9226C254.781 25.6569 250.731 21.2811 244.912 21.2811C239.092 21.2811 234.883 25.5452 234.883 31.8109C234.883 38.0765 239.092 42.3406 244.912 42.3406ZM231.001 31.8109C231.001 23.7204 236.429 17.5664 244.362 17.5664C249.129 17.5664 252.732 19.8381 254.725 23.3852V6.534C254.725 6.0312 254.948 5.76123 255.441 5.76123H257.993C258.496 5.76123 258.710 6.04051 258.710 6.534V44.603C258.710 45.1057 258.486 45.3757 257.993 45.3757H255.610C255.106 45.3757 254.892 45.0964 254.892 44.603L254.781 40.1713C252.788 43.8302 249.241 46.046 244.362 46.046C236.438 46.046 231.001 39.9479 231.001 31.8016" fill="white"/>
          <path d="M262.927 41.9496C262.537 41.5027 262.537 41.0651 262.872 40.5624L263.701 39.4545C264.036 39.0076 264.529 39.0076 264.977 39.4545C266.642 41.2327 268.636 42.4989 271.624 42.4989C274.780 42.4989 277.052 41.1117 277.052 38.2907C277.052 35.7398 275.330 34.5201 272.788 33.4681L269.576 32.1368C266.252 30.7495 263.477 28.7013 263.477 24.819C263.477 20.3315 267.248 17.5571 271.791 17.5571C274.892 17.5571 277.779 18.8885 279.715 21.3278C280.050 21.7187 279.995 22.1563 279.660 22.5473L278.775 23.5435C278.272 24.1022 277.946 24.0462 277.443 23.5435C275.730 21.7746 273.951 20.9367 271.959 20.9367C269.464 20.9367 267.304 22.1563 267.304 24.7073C267.304 27.2582 269.185 28.2544 271.959 29.4182L274.622 30.5261C278.170 31.9692 281 34.0174 281 38.2255C281 43.3275 276.624 46.0368 271.745 46.0368C267.369 46.0368 264.427 43.8767 262.937 41.9309" fill="white"/>
        </svg>
      </div>
      <div class="task-badge" id="taskBadge">TASK: Loading...</div>
    </div>

    <!-- Main Card -->
    <div class="card" id="mainCard">
      <!-- Project Header -->
      <h1 class="section-title">FINAL REVIEW</h1>
      <div class="project-info">
        <p><strong>Client:</strong> <span id="clientName">Loading...</span></p>
        <p><strong>Created:</strong> <span id="createdDate">Loading...</span></p>
      </div>

      <div class="divider"></div>

      <!-- Carousel Section -->
      <div class="carousel-container">
        <div class="section-header">üñºÔ∏è REVIEW ALL DESIGNS</div>
        
        <div class="carousel-counter" id="carouselCounter">
          FILE <span id="currentSlide">1</span> OF <span id="totalSlides">1</span>
        </div>
        
        <div class="carousel-main" id="carouselMain">
          <div class="carousel-nav prev" onclick="changeSlide(-1)">
            <svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
          </div>
          <div class="carousel-nav next" onclick="changeSlide(1)">
            <svg viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
          </div>
        </div>
        
        <div class="thumbnails" id="thumbnails"></div>
      </div>

      <div class="divider"></div>

      <!-- Design Selection -->
      <div>
        <div class="section-header">‚úÖ SELECT APPROVED DESIGNS</div>
        
        <div id="selectionCounter" class="selection-counter">
          You've selected <span id="selectedCount">0</span> of <span id="totalCount">0</span> designs
        </div>

        <div class="designs-grid" id="designsGrid">
          <!-- Design cards will be populated here by JavaScript -->
        </div>
      </div>

      <div class="divider"></div>

      <!-- Decision Section -->
      <form id="reviewForm">
        <div class="decision-section">
          <h3>YOUR DECISION</h3>

          <div class="error-message" id="errorMessage"></div>

          <div class="radio-option" onclick="selectDecision('approve')">
            <input type="radio" name="decision" id="approve" value="approve">
            <label for="approve">Approve ‚úÖ</label>
          </div>

          <div class="radio-option" onclick="selectDecision('needs_changes')">
            <input type="radio" name="decision" id="needs_changes" value="needs_changes">
            <label for="needs_changes">Needs changes üîÑ</label>
          </div>
        </div>

        <div class="notes-section">
          <label for="notes">Notes</label>
          <textarea id="notes" name="notes" placeholder="Share your feedback here..."></textarea>
        </div>

        <input type="hidden" id="taskId" name="taskId" value="">
        <input type="hidden" id="client" name="client" value="">
        <input type="hidden" id="created" name="created" value="">

        <div class="actions">
          <button type="submit" class="btn-primary" id="submitBtn">SEND REVIEW</button>
          <button type="reset" class="btn-secondary" onclick="resetForm()">RESET</button>
        </div>

        <p class="footer-text">Review all designs using the carousel, then select which ones to approve before submitting.</p>
      </form>
    </div>

    <!-- Success Screen (hidden by default) -->
    <div class="card success-screen" id="successScreen">
      <div class="success-icon">‚úÖ</div>
      <h2 class="success-title">REVIEW SUBMITTED SUCCESSFULLY</h2>
      <p class="success-message">
        Thank you for your feedback!<br><br>
        We've received your review and will get back to you shortly with next steps.
      </p>
      <p class="success-reference">Your reference: <span id="successTaskId">TASK ABC123</span></p>
    </div>
  </div>

  <script>
    // Global variables
    let currentSlideIndex = 0;
    let previewUrls = [];
    let selectedDesigns = new Set();
    let taskData = {};

    // Get URL parameters
    function getUrlParameter(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    // Initialize page on load
    window.addEventListener('DOMContentLoaded', function() {
      // Get parameters from URL
      const taskId = getUrlParameter('taskId') || 'DEMO-456';
      const client = getUrlParameter('client') || 'ACME Corporation';
      let created = getUrlParameter('created') || '2025-12-01';
      const preview = getUrlParameter('preview') || '';

      // Format the created date to be human-readable
      let formattedDate = created;
      // Check if it's a timestamp (number)
      if (!isNaN(created) && created.length > 10) {
        const date = new Date(parseInt(created));
        formattedDate = date.toLocaleDateString('en-US', { 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric' 
        });
      } else if (created.includes('-')) {
        // If it's already in YYYY-MM-DD format
        const date = new Date(created);
        formattedDate = date.toLocaleDateString('en-US', { 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric' 
        });
      }

      // Store task data
      taskData = { taskId, client, created: formattedDate };

      // Parse preview URLs (comma-separated)
      if (preview) {
        previewUrls = preview.split(',').map(url => url.trim()).filter(url => url);
      }

      // If no preview URLs, use demo images
      if (previewUrls.length === 0) {
        previewUrls = [
          'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?w=1200&h=800&fit=crop',
          'https://images.unsplash.com/photo-1634942537034-2531766767d1?w=1200&h=800&fit=crop',
          'https://images.unsplash.com/photo-1611926653458-09294b3142bf?w=1200&h=800&fit=crop',
          'https://images.unsplash.com/photo-1557672172-298e090bd0f1?w=1200&h=800&fit=crop'
        ];
      }

      // Populate page
      populatePage();
    });

    // Populate page with data
    function populatePage() {
      // Update header
      document.getElementById('taskBadge').textContent = `TASK: ${taskData.taskId}`;
      document.getElementById('clientName').textContent = taskData.client;
      document.getElementById('createdDate').textContent = taskData.created;

      // Set hidden form fields
      document.getElementById('taskId').value = taskData.taskId;
      document.getElementById('client').value = taskData.client;
      document.getElementById('created').value = taskData.created;

      // Update counters
      document.getElementById('totalSlides').textContent = previewUrls.length;
      document.getElementById('totalCount').textContent = previewUrls.length;

      // Build carousel
      buildCarousel();

      // Build design selection grid
      buildDesignGrid();
    }

    // Build carousel
    function buildCarousel() {
      const carouselMain = document.getElementById('carouselMain');
      const thumbnails = document.getElementById('thumbnails');

      // Clear existing
      const existingSlides = carouselMain.querySelectorAll('.carousel-slide');
      existingSlides.forEach(slide => slide.remove());
      thumbnails.innerHTML = '';

      // Create slides and thumbnails
      previewUrls.forEach((url, index) => {
        // Create main slide
        const img = document.createElement('img');
        img.src = url;
        img.className = 'carousel-slide';
        img.alt = `Design ${index + 1}`;
        if (index === 0) img.classList.add('active');
        carouselMain.appendChild(img);

        // Create thumbnail
        const thumb = document.createElement('img');
        thumb.src = url;
        thumb.className = 'thumbnail';
        thumb.alt = `Thumbnail ${index + 1}`;
        if (index === 0) thumb.classList.add('active');
        thumb.onclick = () => goToSlide(index);
        thumbnails.appendChild(thumb);
      });

      // Hide nav arrows if only one slide
      if (previewUrls.length <= 1) {
        carouselMain.querySelector('.prev').style.display = 'none';
        carouselMain.querySelector('.next').style.display = 'none';
      }
    }

    // Build design selection grid
    function buildDesignGrid() {
      const grid = document.getElementById('designsGrid');
      grid.innerHTML = '';

      previewUrls.forEach((url, index) => {
        const card = document.createElement('div');
        card.className = 'design-card';
        card.id = `design-${index}`;

        const filename = `Design_${index + 1}.png`;

        card.innerHTML = `
          <div class="design-checkbox">
            <input 
              type="checkbox" 
              id="checkbox-${index}" 
              value="${index}"
              onchange="toggleDesign(${index})">
            <label for="checkbox-${index}">${filename}</label>
          </div>
          <img 
            src="${url}" 
            alt="${filename}" 
            class="design-mini-thumb"
            onclick="goToSlide(${index})">
        `;

        grid.appendChild(card);
      });
    }

    // Change slide
    function changeSlide(direction) {
      currentSlideIndex += direction;

      if (currentSlideIndex < 0) {
        currentSlideIndex = previewUrls.length - 1;
      } else if (currentSlideIndex >= previewUrls.length) {
        currentSlideIndex = 0;
      }

      updateCarousel();
    }

    // Go to specific slide
    function goToSlide(index) {
      currentSlideIndex = index;
      updateCarousel();
    }

    // Update carousel display
    function updateCarousel() {
      // Update slides
      const slides = document.querySelectorAll('.carousel-slide');
      slides.forEach((slide, index) => {
        slide.classList.toggle('active', index === currentSlideIndex);
      });

      // Update thumbnails
      const thumbs = document.querySelectorAll('.thumbnail');
      thumbs.forEach((thumb, index) => {
        thumb.classList.toggle('active', index === currentSlideIndex);
      });

      // Update counter
      document.getElementById('currentSlide').textContent = currentSlideIndex + 1;
    }

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
      if (e.key === 'ArrowLeft') {
        changeSlide(-1);
      } else if (e.key === 'ArrowRight') {
        changeSlide(1);
      }
    });

    // Toggle design selection
    function toggleDesign(index) {
      const checkbox = document.getElementById(`checkbox-${index}`);
      const card = document.getElementById(`design-${index}`);

      if (checkbox.checked) {
        selectedDesigns.add(index);
        card.classList.add('selected');
      } else {
        selectedDesigns.delete(index);
        card.classList.remove('selected');
      }

      updateSelectionCounter();
    }

    // Update selection counter
    function updateSelectionCounter() {
      const counter = document.getElementById('selectionCounter');
      const count = selectedDesigns.size;

      document.getElementById('selectedCount').textContent = count;

      if (count > 0) {
        counter.classList.add('has-selection');
      } else {
        counter.classList.remove('has-selection');
      }
    }

    // Select decision option
    function selectDecision(decision) {
      document.getElementById(decision).checked = true;

      document.querySelectorAll('.radio-option').forEach(option => {
        option.classList.remove('selected');
      });
      event.currentTarget.classList.add('selected');

      hideError();
    }

    // Validate form
    function validateForm() {
      const decision = document.querySelector('input[name="decision"]:checked');

      if (!decision) {
        showError('Please select a decision (Approve or Needs changes)');
        return false;
      }

      return true;
    }

    // Show error
    function showError(message) {
      const errorDiv = document.getElementById('errorMessage');
      errorDiv.textContent = message;
      errorDiv.classList.add('visible');
      errorDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    // Hide error
    function hideError() {
      document.getElementById('errorMessage').classList.remove('visible');
    }

    // Form submission
    document.getElementById('reviewForm').addEventListener('submit', function(e) {
      e.preventDefault();

      if (!validateForm()) {
        return;
      }

      const decision = document.querySelector('input[name="decision"]:checked').value;
      const notes = document.getElementById('notes').value.trim();

      // Prepare data
      const reviewData = {
        taskId: taskData.taskId,
        client: taskData.client,
        created: taskData.created,
        decision: decision,
        selectedDesigns: Array.from(selectedDesigns).map(i => `Design_${i + 1}.png`),
        notes: notes,
        timestamp: new Date().toISOString()
      };

      // Show loading
      document.getElementById('submitBtn').disabled = true;
      document.getElementById('submitBtn').textContent = 'SUBMITTING...';
      document.getElementById('mainCard').classList.add('loading');

      // Send to webhook
      sendToWebhook(reviewData);
    });

    // Send to Zapier webhook
    function sendToWebhook(data) {
      // Create hidden iframe for form submission
      let iframe = document.getElementById('hidden-iframe');
      if (!iframe) {
        iframe = document.createElement('iframe');
        iframe.id = 'hidden-iframe';
        iframe.name = 'hidden-iframe';
        iframe.style.display = 'none';
        document.body.appendChild(iframe);
      }

      // Create a hidden form to submit
      const form = document.createElement('form');
      form.method = 'POST';
      form.action = 'https://hooks.zapier.com/hooks/catch/24121388/ufw0dzm/';
      form.target = 'hidden-iframe'; // Submit to hidden iframe
      form.style.display = 'none';

      // Add all data as form fields
      for (const key in data) {
        if (key === 'selectedDesigns') {
          // Convert array to comma-separated string
          const input = document.createElement('input');
          input.type = 'hidden';
          input.name = key;
          input.value = data[key].join(', ');
          form.appendChild(input);
        } else {
          const input = document.createElement('input');
          input.type = 'hidden';
          input.name = key;
          input.value = data[key];
          form.appendChild(input);
        }
      }

      document.body.appendChild(form);
      
      // Submit form (this will POST to Zapier in hidden iframe)
      form.submit();
      
      // Show success screen
      setTimeout(() => {
        showSuccessScreen();
        // Clean up
        document.body.removeChild(form);
      }, 500);
    }

    // Show success screen
    function showSuccessScreen() {
      document.getElementById('mainCard').style.display = 'none';
      document.getElementById('successScreen').classList.add('visible');
      document.getElementById('successTaskId').textContent = `TASK ${taskData.taskId}`;
    }

    // Reset form
    function resetForm() {
      if (confirm('Are you sure you want to reset the form?')) {
        location.reload();
      }
    }
  </script>
</body>
</html>
